from time import sleep
from Temperature import TemperatureSensor
from Messenger import Messenger


def run():

    """
    Read temperature and send through requests (Messenger.py) to webserver.
    """

    temperature_sensor = TemperatureSensor()
    messenger = Messenger('development')

    temperature = temperature_sensor.read_temperature()
    messenger.send_message(temperature)

    sleep(1)  # Sleep 1s to send again

    pass


if __name__ == '__main__':
    while True:
        run()
